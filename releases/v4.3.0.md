# v4.3.0 - Causal Knowledge Graphs & Analytics

Released: January 18, 2026

## Highlights

- **Causal Relationship Types** — 3 new relationship types for decision tracing and failure analysis
- **Enhanced Analytics** — 4 additional metrics in `get_statistics` for deeper insights
- **Significance Gradients** — Computed `importance` scores (0.0-1.0) for entries

---

## Added

### Causal Relationship Types

Three new relationship types for building causal knowledge graphs:

| Type         | Description                                               | Mermaid Arrow |
| ------------ | --------------------------------------------------------- | ------------- |
| `blocked_by` | Entry was blocked by another (e.g., blocker → resolution) | `--x`         |
| `resolved`   | Entry resolved/fixed an issue from another                | `==>`         |
| `caused`     | Entry caused or led to another outcome                    | `-.->`        |

Updated Field Notes with guidance on when to use causal types.

### Enhanced Analytics

`get_statistics` now returns 4 additional metrics:

- **`decisionDensity`**: Significant entries per period (entries with `significanceType`)
- **`relationshipComplexity`**: Total relationships / total entries average
- **`activityTrend`**: Period-over-period growth percentage
- **`causalMetrics`**: Counts for `blocked_by`, `resolved`, `caused` relationships

### Significance Gradients

Computed `importance` scores (0.0-1.0) for entries based on:

- Significance type (30%)
- Relationship count (35%)
- Causal relationships (20%)
- Recency (15%)

- `get_entry_by_id` now returns `importance` field
- `memory://significant` resource sorts entries by importance (highest first)

---

## Fixed

### Docker Workflow Duplicate Builds

Removed `push: tags: ['v*']` trigger that caused duplicate image sets when releasing versions.

- Docker builds now only trigger via `workflow_run` after "Lint and Test" passes
- Version tags still applied based on `package.json` version
- Removed obsolete `preflight-check` job

---

## Improved

### `memory://significant` Secondary Sort

Entries with equal importance scores are now sorted by timestamp (newest first), ensuring consistent chronological ordering for ties.

### `create_entry` Auto-populates `issueUrl`

When creating an entry with `issue_number` but no `issueUrl`, the URL is now auto-constructed from cached repository info. Requires GitHub integration and prior `getRepoInfo()` call.

### Harmonized Graph Arrow Styles

`memory://graph/recent` now uses the same arrow mappings as `visualize_relationships` tool:

- Added causal types: `blocked_by` (--x), `resolved` (==>), `caused` (-.->)
- Added missing types: `clarifies` (-.->) and `response_to` (<-->)
- Standardized `implements` to use `==>` for consistency

---

## Upgrade

```bash
# npm
npm update -g memory-journal-mcp

# Docker
docker pull writenotenow/memory-journal-mcp:v4.3.0
```

**Full Changelog**: https://github.com/neverinfamous/memory-journal-mcp/wiki/CHANGELOG
