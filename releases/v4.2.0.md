# Memory Journal MCP Server v4.2.0

**Release Date:** January 17, 2026

## Highlights

- **HTTP/SSE Transport** — Run the server in HTTP mode for remote access and web-based clients
- **New Tool: `cleanup_backups`** — Automatic backup rotation to prune old backups
- **New Tool: `merge_tags`** — Tag normalization for consolidating similar tags
- **100% StructuredContent Coverage** — All 33 tools now have formal output schemas
- **Enhanced Feedback** — Improved hints for semantic_search, restore_backup, and PR timeline

---

## Added

### HTTP/SSE Transport

- New `--transport http --port 3000` CLI options
- `POST /mcp` — JSON-RPC requests (initialize, tools/call, resources/read, etc.)
- `GET /mcp` — SSE stream for server-to-client notifications (supports resumability via `Last-Event-ID`)
- `DELETE /mcp` — Session termination
- **Stateful mode** (default): Session management via `mcp-session-id` header
- **Stateless mode** (`--stateless`): No session management, ideal for serverless deployments
- New dependencies: `express@^5.1.0`, `@types/express` (devDependency)

### `cleanup_backups` Tool

- `keep_count` parameter specifies how many recent backups to retain (default: 5)
- Returns list of deleted filenames and count of kept backups
- Added to `backup` tool group in ToolFilter

### `merge_tags` Tool

- Merge duplicate/similar tags (e.g., `phase-2` → `phase2`)
- Source tag is deleted after merge; target tag created if not exists
- Updates all entry-tag links and usage counts
- Added to `admin` tool group in ToolFilter

### Tool Count

- **31 → 33 tools** (backup: 3 → 4, admin: 4 → 5)

---

## Improved

### `semantic_search` Hint Enhancement

- Hint now includes the current `similarity_threshold` value (e.g., "0.3")
- Suggests lowering threshold (e.g., "Try 0.2 for broader matches.")

### `restore_backup` Enhanced Warning

- Warning message now explicitly mentions tag merges, new entries, and relationships are reverted
- New `revertedChanges` field in output with specific details
- Added Field Note in `memory://instructions` documenting restore behavior

### `memory://prs/{pr_number}/timeline` Enhancement

- New `prMetadata` field with title, state, draft, mergedAt, closedAt, author, headBranch, baseBranch
- New `timelineNote` field with human-readable PR status

---

## Changed

- **`memory://instructions` Default Level** — Changed from `standard` to `full` (~600 tokens)
- **Briefing `clientNote`** — Simplified to "For complete tool reference and field notes, read memory://instructions."
- **Expanded StructuredContent Coverage** — 7 additional tools now return `structuredContent` with Zod validation
  - All 33 tools with response data now have formal output schemas

---

## Fixed

- **CI Status "unknown" for Cancelled Workflows** — Fixed `memory://briefing` and `memory://github/status` reporting "unknown" when latest workflow was cancelled
  - CI status type now includes `passing | failing | pending | cancelled | unknown`

---

## Documentation

- **`memory://tags` vs `list_tags` Schema** — Documented intentional difference between resource and tool output
- **Tag Naming Conventions** — Added guidance for consistent tag naming patterns
- **`semantic_search` Threshold Guidance** — New Field Note documenting threshold recommendations

---

**Full Changelog:** https://github.com/neverinfamous/memory-journal-mcp/compare/v4.1.0...v4.2.0
